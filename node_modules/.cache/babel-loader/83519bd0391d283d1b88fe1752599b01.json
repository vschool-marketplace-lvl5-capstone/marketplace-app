{"ast":null,"code":"import _slicedToArray from \"/Users/blairrobbins/Desktop/group-projects/marketplace-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/blairrobbins/Desktop/group-projects/marketplace-app/client/src/components/home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport './Home.css';\nimport { Context } from '../context';\nimport Posting from './Posting';\nimport Option from './Option';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  var _this = this;\n\n  // state for listings\n  var _useState = useState('allStates'),\n      _useState2 = _slicedToArray(_useState, 2),\n      stateFilter = _useState2[0],\n      setStateFilter = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cityFilter = _useState4[0],\n      setCityFilter = _useState4[1]; // using context for list\n\n\n  var _useContext = useContext(Context),\n      postingList = _useContext.postingList,\n      setPostingList = _useContext.setPostingList; // get all postings\n\n\n  function getPostings() {\n    axios.get('/postings').then(function (res) {\n      setPostingList(res.data);\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  } // get all postings on mount\n\n\n  useEffect(function () {\n    getPostings(); // eslint-disable-next-line\n  }, []); // map through posting list\n\n  var postingComponents = postingList.map(function (info) {\n    return /*#__PURE__*/_jsxDEV(Posting, {\n      posting: info\n    }, info._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 55\n    }, _this);\n  }); // STATE \n  // handle filter change for state\n\n  function handleStateFilter(e) {\n    var value = e.target.value;\n    setStateFilter(value);\n\n    if (value === 'allStates') {\n      getPostings();\n    } else {\n      axios.get(\"/postings/search/state?state=\".concat(value)).then(function (res) {\n        return setPostingList(res.data);\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    }\n  } // state options\n\n\n  var options = ['AL', 'AK', 'AS', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'DC', 'FM', 'FL', 'GA', 'GU', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MH', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'MP', 'OH', 'OK', 'OR', 'PW', 'PA', 'PR', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VI', 'VA', 'WA', 'WV', 'WI', 'WY'];\n  var optionComponents = options.map(function (option) {\n    return /*#__PURE__*/_jsxDEV(Option, {\n      state: option\n    }, option, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 52\n    }, _this);\n  }); // CITY\n  // handle change for input\n\n  function handleChange(e) {\n    var value = e.target.value;\n    setCityFilter(value);\n  } // handle search by city\n\n\n  function handleCityFilter(e) {\n    e.preventDefault();\n    console.log('yeeet');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"homeMain\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"filterContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleStateFilter,\n        id: \"stateFilter\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"allStates\",\n          children: \"All States\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), optionComponents]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCityFilter,\n        id: stateFilter === 'allStates' ? 'cityHidden' : 'citySearch',\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: cityFilter,\n          name: \"cityFilter\",\n          onChange: handleChange,\n          placeholder: \"Enter City\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Search By City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: postingComponents\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"b+MlpUmsQy3muCSoPscQDMoxIK4=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/blairrobbins/Desktop/group-projects/marketplace-app/client/src/components/home/Home.js"],"names":["React","useState","useEffect","useContext","axios","Context","Posting","Option","Home","stateFilter","setStateFilter","cityFilter","setCityFilter","postingList","setPostingList","getPostings","get","then","res","data","err","console","log","postingComponents","map","info","_id","handleStateFilter","e","value","target","options","optionComponents","option","handleChange","handleCityFilter","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\nimport axios from 'axios'\nimport './Home.css'\nimport { Context } from '../context'\nimport Posting from './Posting'\nimport Option from './Option'\n\nfunction Home() {\n    // state for listings\n    const [stateFilter, setStateFilter] = useState('allStates')\n    const [cityFilter, setCityFilter] = useState('')\n\n    // using context for list\n    const { postingList, setPostingList } = useContext(Context)\n\n    // get all postings\n    function getPostings() {\n        axios.get('/postings')\n        .then(res => {\n            setPostingList(res.data)\n        })\n        .catch(err => console.log(err))\n    }\n\n    // get all postings on mount\n    useEffect(() => {\n        getPostings()\n        // eslint-disable-next-line\n    }, [])\n\n    // map through posting list\n    const postingComponents = postingList.map(info => <Posting key={info._id} posting={info} />)\n\n    // STATE \n    // handle filter change for state\n    function handleStateFilter(e) {\n        const {value} = e.target\n        setStateFilter(value)\n        if (value === 'allStates') {\n            getPostings()\n        } else {\n            axios.get(`/postings/search/state?state=${value}`)\n                .then(res => setPostingList(res.data))\n                .catch(err => console.log(err))\n        }\n    }\n\n    // state options\n    const options = ['AL', 'AK', 'AS', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'DC', 'FM', 'FL', 'GA', 'GU', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MH', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'MP', 'OH', 'OK', 'OR', 'PW', 'PA', 'PR', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VI', 'VA', 'WA', 'WV', 'WI', 'WY' ]\n    const optionComponents = options.map(option => <Option key={option} state={option} />)\n\n    // CITY\n    // handle change for input\n    function handleChange(e) {\n        const { value } = e.target\n        setCityFilter(value)\n    }\n\n    // handle search by city\n    function handleCityFilter(e) {\n        e.preventDefault()\n        console.log('yeeet')\n    }\n\n\n \n\n    return (\n        <div id='homeMain'>\n            <div id='filterContainer'>\n                <select onChange={handleStateFilter} id='stateFilter'>\n                    <option value='allStates'>All States</option>\n                    {optionComponents}\n                </select>\n                <form onSubmit={handleCityFilter} id={stateFilter === 'allStates' ? 'cityHidden' : 'citySearch'}>\n                    <input\n                        type='text'\n                        value={cityFilter}\n                        name='cityFilter'\n                        onChange={handleChange}\n                        placeholder='Enter City'\n                        required\n                    />\n                    <br />\n                    <button>Search By City</button>\n                </form>\n            </div>\n            <div>\n                {postingComponents}\n            </div>\n        </div>\n    )\n\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}